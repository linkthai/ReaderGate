<div layout="vertical" layout-fill>

  <md-content flex class=body>
    <header>
      <nav-bar md-whiteframe-z2></nav-bar>
    </header>

    <md-content class="mid-content" data-ng-controller="TitleController as vm">
      <div class="main-content">
        <div layout="column" layout-gt-sm="row">
          <div flex=100>

            <div class="title-name">
              {{ vm.title }}

              <button ng-click="vm.editSeries()" ng-show="vm.adminPermission" class="edit-button" ng-click="vm.editSeries()">
                <md-icon class="search-button icon-aligned"><i class="red material-icons md-12">edit</i></md-icon>
                Edit info
              </button>
            </div>

            <md-card layout="column">
              <md-card-content layout-gt-sm="row" layout="column" layout="space-around center">
                <!-- <div flex-lg=35 flex-md=70 flex-sm=80 flex-xs=100>
                  <img class="title-image" src="{{ vm.cover }}" />
                </div> -->
                <div flex-lg=40 flex-md=70 flex-sm=80 flex-xs=100 flex=40 layout="row" class="title-image-container">
                  <div class="title-image-container" flex=100>
                    <img class="title-ratio" src="assets/images/template.png" />
                    <img class="title-image" src="{{ vm.cover }}" />
                  </div>
                </div>
                <md-content class="title-info-wrapper" flex-gt-sm flex=100>
                  <md-divider flex=100 hide-gt-sm></md-divider>
                  <div class="title-info"> <span class="bold">Genres:</span> {{ vm.genres }} </div>
                  <div class="title-info"> <span class="bold">Author:</span> {{ vm.author }} </div>
                  <div class="title-info" layout="row" flex=100>
                    <div flex=50> <span class="bold">Status:</span> {{ vm.status }} </div>
                    <div flex> <span class="bold">Views:</span> {{ vm.views }} </div>
                  </div>
                  <div class="title-info"> <span class="bold">Description:</span> {{ vm.description }} </div>
                </md-content>
              </md-card-content>
            </md-card>

            <md-card class="volume-list" layout="column">
              <md-card-header class="md-padding volume-list-header">
                Volumes
              </md-card-header>
              <md-content class="table-wrapper">
                <div class="volume-item" ng-repeat-start="item in chapList" ng-click="vm.go(item.chapterId, item.name)">
                  {{ item.name }}
                </div>
                <md-divider ng-repeat-end></md-divider>
              </md-content>
            </md-card>
          </div>
          <md-card class="right-bar" flex-gt-sm=30 flex=100>
            <md-card-header class="right-bar-header">
              Related title
            </md-card-header>
            <md-card-content>
              <div class="right-bar-text" ng-repeat-start="item in vm.latestUpdate">
                <span class="right-bar-name">{{ item.name }}</span> - Chapter {{ item.chap }}
              </div>
              <md-divider ng-repeat-end></md-divider>
            </md-card-content>
          </md-card>


          <md-button class="md-fab md-fab-bottom-right md-accent fixed-fab" ng-show="vm.adminPermission" ng-click="vm.addChapter()">
            <md-icon><i class="material-icons md-24 fab-icon-spin">playlist_add</i>
            </md-icon>
            <md-tooltip md-direction="left">
              Add new chapter
            </md-tooltip>
          </md-button>
        </div>
      </div>
    </md-content>
  </md-content>

</div>
