<div layout="vertical" layout-fill>

  <md-content flex class=body>
    <header md-whiteframe-z2 md-raised>
      <nav-bar></nav-bar>
    </header>

    <md-content class="mid-content" data-ng-controller="MainController as vm">
      <div class="main-content" layout-gt-sm="row" layout="column">
        <div class="list-section" flex=100>
          <md-content>
            <div class="header-text" ng-click="vm.goToSortArchive(2, '/archive')">
              <md-icon class="main-icon-aligned fab-icon-spin"><i class="cyan material-icons md-36">new_releases</i></md-icon>
              NEW RELEASE
              <md-icon class="main-icon-aligned right-bar-icon"><i class="cyan material-icons md-36">navigate_next</i></md-icon>
            </div>
            <md-content class="list-comcard" layout-wrap layout-gt-md="row" layout="column" layout-align="start center">
              <div flex-gt-md=50 layout-gt-xs="row" layout="column" layout-fill>
                <div class="com-card-wrapper" flex layout-fill>
                  <com-card layout-fill ng-click="vm.goToTitleNewRelease(3)" book-genres="{{vm.newRelease[3].genres}}" book-author="{{vm.newRelease[3].author}}" book-title="{{vm.newRelease[3].title}}" book-cover="{{vm.newRelease[3].cover}}"></com-card>
                </div>
                <div class="com-card-wrapper" flex layout-fill>
                  <com-card layout-fill ng-click="vm.goToTitleNewRelease(2)" book-title="{{vm.newRelease[2].title}}" book-cover="{{vm.newRelease[2].cover}}" book-genres="{{vm.newRelease[2].genres}}" book-author="{{vm.newRelease[2].author}}"></com-card>
                </div>
              </div>
              <div flex-gt-md=50 layout-gt-xs="row" layout="column">
                <div flex layout-fill>
                  <com-card ng-click="vm.goToTitleNewRelease(1)" book-title="{{vm.newRelease[1].title}}" book-cover="{{vm.newRelease[1].cover}}" book-genres="{{vm.newRelease[1].genres}}" book-author="{{vm.newRelease[1].author}}"></com-card>
                </div>
                <div flex layout-fill>
                  <com-card ng-click="vm.goToTitleNewRelease(0)" book-title="{{vm.newRelease[0].title}}" book-cover="{{vm.newRelease[0].cover}}" book-genres="{{vm.newRelease[0].genres}}" book-author="{{vm.newRelease[0].author}}"></com-card>
                </div>
              </div>
            </md-content>
          </md-content>

          <md-divider class="margin"></md-divider>

          <md-content>
            <div class="header-text" ng-click="vm.goToSortArchive(2, '/archive')">
              <md-icon class="main-icon-aligned fab-icon-spin"><i class="cyan material-icons md-36">star</i></md-icon>
              MOST POPULAR
              <md-icon class="main-icon-aligned right-bar-icon"><i class="cyan material-icons md-36">navigate_next</i></md-icon>
            </div>
            <md-content class="list-comcard" layout-wrap layout-gt-md="row" layout="column" layout-align="start center">
              <div flex-gt-md=50 layout-gt-xs="row" layout="column">
                <div flex layout-fill>
                  <com-card ng-click="vm.goToTitleMostPopular(3)" book-genres="{{vm.mostPopular[3].genres}}" book-author="{{vm.mostPopular[3].author}}" book-title="{{vm.mostPopular[3].title}}" book-cover="{{vm.mostPopular[3].cover}}"></com-card>
                </div>
                <div flex layout-fill>
                  <com-card ng-click="vm.goToTitleMostPopular(2)" book-title="{{vm.mostPopular[2].title}}" book-cover="{{vm.mostPopular[2].cover}}" book-genres="{{vm.mostPopular[2].genres}}" book-author="{{vm.mostPopular[2].author}}"></com-card>
                </div>
              </div>
              <div flex-gt-md=50 layout-gt-xs="row" layout="column">
                <div flex layout-fill>
                  <com-card ng-click="vm.goToTitleMostPopular(1)" book-title="{{vm.mostPopular[1].title}}" book-cover="{{vm.mostPopular[1].cover}}" book-genres="{{vm.mostPopular[1].genres}}" book-author="{{vm.mostPopular[1].author}}"></com-card>
                </div>
                <div flex layout-fill>
                  <com-card ng-click="vm.goToTitleMostPopular(0)" book-title="{{vm.mostPopular[0].title}}" book-cover="{{vm.mostPopular[0].cover}}" book-genres="{{vm.mostPopular[0].genres}}" book-author="{{vm.mostPopular[0].author}}"></com-card>
                </div>
              </div>
            </md-content>
          </md-content>
        </div>
        <md-card class="right-bar" flex-gt-sm=30 flex=100>
          <md-card-header class="right-bar-header">
            Latest Update
          </md-card-header>
          <md-card-content>
            <div class="right-bar-text" ng-repeat-start="item in vm.latestUpdate" ng-click="vm.go(item._bookId, item._chapterId, item._chapterName)">
              <div class="right-bar-name">
                <md-icon class="right-bar-icon icon-aligned"><i class="red material-icons md-12">keyboard_arrow_right</i></md-icon>
                {{ item._title }}
              </div>
              <div class="right-bar-chapter">
                {{ item._chapterName }}
              </div>
            </div>
            <md-divider ng-repeat-end></md-divider>
          </md-card-content>
        </md-card>
      </div>
    </md-content>
  </md-content>

</div>
